<view 
  class="conversation-item-container {{showMoreActions ? 'show-action-list' : ''}} {{conversation.stickTop ? 'stick-on-top' : ''}}"
  bindtouchstart="handleTouchStart"
  bindtouchmove="handleTouchMove"
  bindtap="handleConversationItemClick"
>
  <view class="conversation-item-content">
    <view class="conversation-item-left">
      <view class="unread" wx:if="{{unread}}">
        <view class="dot" wx:if="{{isMute}}"></view>
        <view class="badge" wx:else>{{unread}}</view>
      </view>
      <avatar account="{{to}}" avatar="{{teamAvatar}}"></avatar>
    </view>
    
    <view class="conversation-item-right">
      <view class="conversation-item-top">
        <appellation 
          wx:if="{{conversation.type === 'P2P'}}"
          class="conversation-item-title"
          account="{{to}}"
        ></appellation>
        <view wx:else class="conversation-item-title">{{sessionName}}</view>
        <view class="conversation-item-time">{{date}}</view>
      </view>
      
      <view class="conversation-item-desc">
        <view class="conversation-item-desc-span">
          <view wx:if="{{beMentioned}}" class="beMentioned">
            [有人@我]
          </view>
          <conversation-item-read 
            wx:if="{{showSessionUnread}}"
            conversation="{{conversation}}"
          ></conversation-item-read>
          <view wx:if="{{conversation.lastMessage}}" class="conversation-item-desc-content">
            <last-msg-content last-message="{{conversation.lastMessage}}"></last-msg-content>
          </view>
        </view>
        
        <view class="conversation-item-state">
          <icon 
            wx:if="{{isMute}}"
            class="conversation-item-desc-state"
            type="icon-xiaoximiandarao"
            color="#ccc"
          ></icon>
        </view>
      </view>
    </view>
  </view>
  
  <view class="right-action-list">
    <view 
      wx:for="{{moreActions}}" 
      wx:key="type"
      class="right-action-item {{item.class}}"
      bindtap="handleActionClick"
      data-type="{{item.type}}"
    >
      <view class="action-name">{{item.name}}</view>
    </view>
  </view>
</view>