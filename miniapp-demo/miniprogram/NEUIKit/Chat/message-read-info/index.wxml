<view class="message-read-info {{theme === 'dark' ? 'dark-theme' : ''}}" wx:if="{{visible}}">
  <!-- 遮罩层 -->
  <view class="read-info-mask" bindtap="handleClose"></view>
  
  <!-- 内容区域 -->
  <view class="read-info-content" catchtap="stopPropagation">
    <!-- 头部 -->
    <view class="read-info-header">
      <view class="header-title">消息详情</view>
      <view class="header-close" bindtap="handleClose">
        <icon type="close" size="20" color="{{theme === 'dark' ? '#ffffff' : '#666666'}}" />
      </view>
    </view>

    <!-- 统计信息 -->
    <view class="read-info-stats">
      <view class="stats-item">
        <view class="stats-number">{{readCount + unReadCount}}</view>
        <view class="stats-label">总计</view>
      </view>
      <view class="stats-item">
        <view class="stats-number read-number">{{readCount}}</view>
        <view class="stats-label">已读</view>
      </view>
      <view class="stats-item">
        <view class="stats-number unread-number">{{unReadCount}}</view>
        <view class="stats-label">未读</view>
      </view>
    </view>

    <!-- 标签页 -->
    <view class="read-info-tabs">
      <view 
        class="tab-item {{selectedType === 'read' ? 'active' : ''}}" 
        data-type="read" 
        bindtap="handleTypeChange"
      >
        已读 ({{readCount}})
      </view>
      <view 
        class="tab-item {{selectedType === 'unread' ? 'active' : ''}}" 
        data-type="unread" 
        bindtap="handleTypeChange"
      >
        未读 ({{unReadCount}})
      </view>
    </view>

    <!-- 用户列表 -->
    <view class="read-info-list">
      <!-- 已读列表 -->
      <view class="user-list" wx:if="{{selectedType === 'read'}}">
        <view 
          class="user-item" 
          wx:for="{{readList}}" 
          wx:key="*this"
          data-account="{{item}}"
          bindtap="handleUserClick"
        >
          <view class="user-avatar">
            <message-avatar 
              account="{{item}}" 
              size="40" 
              theme="{{theme}}"
            />
          </view>
          <view class="user-info">
            <view class="user-name">{{getUserNick(item)}}</view>
            <view class="user-status read-status">已读</view>
          </view>
        </view>
        
        <!-- 已读列表为空 -->
        <view class="empty-state" wx:if="{{readList.length === 0}}">
          <view class="empty-icon">
            <icon type="info" size="48" color="#cccccc" />
          </view>
          <view class="empty-text">暂无已读用户</view>
        </view>
      </view>

      <!-- 未读列表 -->
      <view class="user-list" wx:if="{{selectedType === 'unread'}}">
        <view 
          class="user-item" 
          wx:for="{{unReadList}}" 
          wx:key="*this"
          data-account="{{item}}"
          bindtap="handleUserClick"
        >
          <view class="user-avatar">
            <message-avatar 
              account="{{item}}" 
              size="40" 
              theme="{{theme}}"
            />
          </view>
          <view class="user-info">
            <view class="user-name">{{getUserNick(item)}}</view>
            <view class="user-status unread-status">未读</view>
          </view>
        </view>
        
        <!-- 未读列表为空 -->
        <view class="empty-state" wx:if="{{unReadList.length === 0}}">
          <view class="empty-icon">
            <icon type="info" size="48" color="#cccccc" />
          </view>
          <view class="empty-text">全部已读</view>
        </view>
      </view>
    </view>

    <!-- 操作按钮 -->
    <view class="read-info-actions" wx:if="{{!loading}}">
      <view class="action-button refresh-button" bindtap="handleRefresh">
        <icon type="refresh" size="16" color="#007AFF" />
        <text>刷新</text>
      </view>
      <view class="action-button export-button" bindtap="exportReadData">
        <icon type="download" size="16" color="#007AFF" />
        <text>导出</text>
      </view>
    </view>

    <!-- 加载状态 -->
    <view class="loading-state" wx:if="{{loading}}">
      <view class="loading-spinner"></view>
      <view class="loading-text">加载中...</view>
    </view>

    <!-- 错误状态 -->
    <view class="error-state" wx:if="{{errorMessage}}">
      <view class="error-icon">
        <icon type="warning" size="48" color="#ff3b30" />
      </view>
      <view class="error-text">{{errorMessage}}</view>
      <view class="error-retry" bindtap="handleRefresh">
        重试
      </view>
    </view>
  </view>
</view>