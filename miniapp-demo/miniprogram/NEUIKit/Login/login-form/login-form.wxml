<view class="login-form">
  <!-- 标题 -->
  <view class="login-title">验证码登录</view>
  
  <!-- 提示文字 -->
  <view class="login-tips">未注册的手机号验证码通过后将自动注册</view>
  
  <!-- 手机号输入 -->
  <view>
    <view class="form-input-item {{mobileError ? 'input-error' : ''}}">
      <view class="phone-addon-before">+86</view>
      <input 
        class="input-wrapper input"
        type="number"
        placeholder="请输入手机号"
        value="{{mobile}}"
        bindinput="onMobileInput"
        maxlength="11"
      />
    </view>
    <view wx:if="{{mobileError}}" class="error-msg">{{mobileError}}</view>
  </view>
  
  <!-- 验证码输入 -->
  <view>
    <view class="form-input-item {{smsCodeError ? 'input-error' : ''}}">
      <input 
        class="input-wrapper input"
        type="number"
        placeholder="请输入验证码"
        value="{{smsCode}}"
        bindinput="onSmsCodeInput"
        maxlength="6"
      />
      <view 
        class="sms-addon-after {{isGettingCode || countdown > 0 ? 'disabled' : ''}}"
        bindtap="getSmsCode"
      >
        <text wx:if="{{countdown > 0}}">{{countdown}} 秒后重新获取</text>
        <text wx:elif="{{isGettingCode}}">获取中...</text>
        <text wx:else>获取验证码</text>
      </view>
    </view>
    <view wx:if="{{smsCodeError}}" class="error-msg">{{smsCodeError}}</view>
  </view>
  
  <!-- 登录按钮 -->
  <view 
    class="login-btn {{isLogging ? 'loading' : ''}}"
    bindtap="login"
  >
    <text wx:if="{{isLogging}}">登录中...</text>
    <text wx:else>登录</text>
  </view>
</view>