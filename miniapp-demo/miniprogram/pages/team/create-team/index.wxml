<view class="create-team-container">
  <!-- 动态状态栏占位 -->
  <view class="status-bar-placeholder" style="height: {{statusBarHeight}}px;"></view>
  
  <nav-bar title="创建群聊" showBack="{{true}}" bind:back="onBack" />
  
  <view class="create-team-content">
    <!-- 群聊名称输入 -->
    <view class="team-name-section">
      <view class="section-title">群聊名称</view>
      <input 
        class="team-name-input" 
        placeholder="请输入群聊名称" 
        value="{{teamName}}"
        bindinput="onTeamNameInput"
        maxlength="30"
      />
    </view>

    <!-- 预选成员显示 -->
    <view class="preselected-section" wx:if="{{preSelectedUser}}">
      <view class="section-title">已包含成员</view>
      <view class="preselected-member">
        <view class="member-avatar" style="background-color: #f0f0f0; display: flex; align-items: center; justify-content: center; font-size: 28rpx; color: #666;">
          <image wx:if="{{preSelectedUser.avatar}}" src="{{preSelectedUser.avatar}}" style="width: 100%; height: 100%; border-radius: 50%;" />
          <text wx:else>{{preSelectedUser.nick ? preSelectedUser.nick.charAt(0) : preSelectedUser.accountId.charAt(0)}}</text>
        </view>
        <view class="member-info">
          <view class="member-name">{{preSelectedUser.nick || preSelectedUser.accountId}}</view>
          <view class="member-tag">默认包含</view>
        </view>
      </view>
    </view>

    <!-- 选择成员 -->
    <view class="member-section">
      <view class="section-title">{{preSelectedUser ? '选择其他成员' : '选择成员'}}</view>
      <person-select 
        personList="{{friendList}}"
        bind:select="onMemberSelect"
        selectedUsers="{{selectedMembers}}"
        placeholder="请选择群成员"
        emptyText="暂无好友"
      />
    </view>
  </view>

  <!-- 创建按钮 -->
  <view class="create-btn-container">
    <button 
      class="create-btn {{canCreate ? 'active' : 'disabled'}}" 
      bindtap="createTeam"
      disabled="{{!canCreate}}"
    >
      创建群聊
    </button>
  </view>
</view>